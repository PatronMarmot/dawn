@echo off
title Epic Card Battle - Multiplayer Test
color 0A

echo.
echo  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
echo  â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•     â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
echo  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘          â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
echo  â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘          â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
echo  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
echo  â•šâ•â•â•â•â•â•â•â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â•     â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•   â•šâ•â•â•šâ•â•     â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•
echo.
echo                                        ğŸš€ MULTIPLAYER TEST BAÅLATILIYOR ğŸš€
echo.

cd /d "C:\Users\enesk\OneDrive\Belgeler\GitHub\dawn"

echo [1/4] ğŸ“‚ Proje dizinine geÃ§iliyor...
echo ğŸ“ Konum: %CD%
echo.

echo [2/4] ğŸ“¦ Dependencies kontrol ediliyor...
if not exist node_modules (
    echo ğŸ“¥ Dependencies kuruluyor...
    npm install
    if %errorlevel% neq 0 (
        echo âŒ NPM install baÅŸarÄ±sÄ±z!
        pause
        exit /b 1
    )
) else (
    echo âœ… Dependencies mevcut
)

echo [3/4] ğŸ”§ Multiplayer sistemi kontrol ediliyor...
if exist multiplayer.js (
    echo âœ… Multiplayer.js gÃ¼ncellendi
) else (
    echo âŒ multiplayer.js bulunamadÄ±!
    pause
    exit /b 1
)

if exist server-socketio.js (
    echo âœ… Socket.io server hazÄ±r
) else (
    echo âŒ server-socketio.js bulunamadÄ±!
    pause
    exit /b 1
)

echo [4/4] ğŸš€ Socket.io server baÅŸlatÄ±lÄ±yor...
echo.
echo âœ… MULTIPLAYER HAZIR!
echo.

rem IP adresini otomatik bul
for /f "tokens=2 delims=:" %%a in ('ipconfig ^| find "IPv4"') do (
    set ip=%%a
    goto :found
)
:found
set ip=%ip: =%

echo ğŸŒ SERVER ADRESLERI:
echo    Local: http://localhost:8080
echo    Network: http://%ip%:8080
echo.
echo ğŸ® MULTIPLAYER TEST NASIL YAPILIR:
echo.
echo    1ï¸âƒ£ Bu server Ã§alÄ±ÅŸtÄ±ktan sonra
echo    2ï¸âƒ£ TarayÄ±cÄ±da 2 tab aÃ§:
echo       Tab 1: http://localhost:8080
echo       Tab 2: http://localhost:8080
echo.
echo    3ï¸âƒ£ Her iki tabda "Ã‡OK OYUNCULU" tÄ±kla
echo    4ï¸âƒ£ Tab 1'de "OYUN OLUÅTUR" â†’ ID'yi not al
echo    5ï¸âƒ£ Tab 2'de "OYUNA KATIL" â†’ ID'yi gir
echo    6ï¸âƒ£ MULTIPLAYER SAVAÅ BAÅLAR! âš”ï¸
echo.
echo ğŸ‘¥ ARKADAÅLARLA TEST:
echo    ArkadaÅŸlarÄ±n: http://%ip%:8080
echo    (AynÄ± Wi-Fi'da olmanÄ±z gerekli)
echo.
echo ğŸ”§ SORUN GÄ°DERME:
echo    - Server Ã§alÄ±ÅŸmazsa: npm install yap
echo    - BaÄŸlantÄ± sorunu: Firewall kontrol et
echo    - Health check: http://localhost:8080/health
echo.
echo ğŸ“Š SERVER BAÅLATILIYOR...
echo    TarayÄ±cÄ±da yukarÄ±daki adresleri aÃ§Ä±n!
echo.

rem Health check URL'ini otomatik aÃ§
timeout /t 3 /nobreak >nul
start http://localhost:8080

echo ğŸ¯ Server baÅŸlatÄ±ldÄ±! TarayÄ±cÄ± aÃ§Ä±ldÄ±.
echo â³ Åimdi Socket.io server baÅŸlÄ±yor...
echo.

rem Socket.io server'Ä± baÅŸlat
node server-socketio.js

pause